/* make the search bar even longer when focused */
@media (min-width: 768px) {
  .header-search:focus-within {
    min-width: 50% !important;
  }
}

/* remove transition */
.header-search {
  transition: none !important;
}

/* this nav appears when you're viewing a file and make the window narrow enough so that the hamburger menu appears */
.reponav-wrapper {
  background-color: #f5f5f5 !important;
}
a.reponav-item {
  color: #333 !important;
}
a.reponav-item:hover {
  color: #4078c0 !important;
}

/* gist */
body.logged-in .Header .js-quicksearch-results {
  /* without this, it's not possible to click to the right of 300px in the gist quicksearch results */
  width: 790px !important;
  z-index: 99; /* this lets the user nav dropdown to go above the quicksearch results */
}

.header-search-input {
  width: 100%;
  text-overflow: ellipsis; /* use ellipsis when truncating */
}

/* allow textarea to be resized to a max-height larger than 500px (why would they even think about limiting this?!) */
textarea {
  max-height: none !important;
}


/* When the user has selected light mode: */

html[data-color-mode="light"] body.logged-in .Header {
  color: #333 !important;
  background-color: #f5f5f5 !important;
  border-bottom: 1px solid #e5e5e5 !important;
}

html[data-color-mode="light"] body.logged-in a[href="#start-of-content"]:focus {
  color: #333 !important;
  background-color: #f5f5f5 !important;
}

html[data-color-mode="light"] body.logged-in .read-only-mode-banner {
  background-color: #f8e45f !important;
  border-bottom-color: #f6dc2e !important;
}

html[data-color-mode="light"] body.logged-in .Header .header-logo-invertocat,
html[data-color-mode="light"] body.logged-in .Header .header-logo-wordmark {
  color: #555 !important;
}

html[data-color-mode="light"] body.logged-in .Header .header-logo-invertocat:hover,
html[data-color-mode="light"] body.logged-in .Header .header-logo-wordmark:hover {
  color: #4078c0 !important;
}

html[data-color-mode="light"] body.logged-in .Header .notification-indicator .mail-status {
  color: #fff !important;
  background-image: linear-gradient(#1cafff, #0086ce) !important;
  border: 2px solid #f3f3f3 !important;
}

html[data-color-mode="light"] body.logged-in .Header .notification-indicator:hover .mail-status {
  background-color: #4078c0 !important;
}

html[data-color-mode="light"] body.logged-in .Header .header-search-scope {
  color: #767676 !important;
  border-right: 1px solid #eee !important;
  font-size: 12px !important;
  line-height: 26px !important;
  min-height: 0 !important;
}

html[data-color-mode="light"] body.logged-in .Header .scoped-search .form-control.focus .header-search-scope {
  color: #4078c0 !important;
  background-color: #edf2f9 !important;
  border-color: #c6d7ec !important;
}

html[data-color-mode="light"] body.logged-in .Header .Header-link  {
  color: #555 !important;
}

html[data-color-mode="light"] body.logged-in .Header .Header-link:hover,
html[data-color-mode="light"] body.logged-in .Header .Header-link:focus  {
  color: #4078c0 !important;
}

html[data-color-mode="light"] body.logged-in .Header .Header-link:hover .dropdown-caret,
html[data-color-mode="light"] body.logged-in .Header .Header-link:focus .dropdown-caret  {
  border-top-color: #4078c0 !important;
}

html[data-color-mode="light"] body.logged-in .Header .header-search  {
  font-size: 14px !important;
}

html[data-color-mode="light"] body.logged-in .Header .header-search-wrapper {
  background: #fff !important;
  box-shadow: inset 0 1px 2px rgba(0,0,0,0.075) !important;
  border: 1px solid #ddd !important;
  font-size: 14px !important;
  min-height: 0 !important;
  color: inherit !important;
}

html[data-color-mode="light"] body.logged-in .Header .header-search-wrapper.focus {
  background: #fff !important;
  border-color: #51a7e8 !important;
  outline: none !important;
  box-shadow: inset 0 1px 2px rgba(0,0,0,.075), 0 0 5px rgba(81,167,232,.5) !important;
}

html[data-color-mode="light"] body.logged-in .Header .header-search-input {
  min-height: 27px !important;
}
html[data-color-mode="light"] body.logged-in .Header .header-search-input::-webkit-input-placeholder {
  color: rgba(0,0,0,.5) !important;
}
html[data-color-mode="light"] body.logged-in .Header .header-search-input::placeholder {
  color: rgba(0,0,0,.5) !important;
}

/* Is there a better way to avoid duplicating this? */
/* When the user has selected auto mode: */
@media (prefers-color-scheme: light) {
  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .Header {
    color: #333 !important;
    background-color: #f5f5f5 !important;
    border-bottom: 1px solid #e5e5e5 !important;
  }

  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in a[href="#start-of-content"]:focus {
    color: #333 !important;
    background-color: #f5f5f5 !important;
  }

  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .read-only-mode-banner {
    background-color: #f8e45f !important;
    border-bottom-color: #f6dc2e !important;
  }

  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .Header .header-logo-invertocat,
  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .Header .header-logo-wordmark {
    color: #555 !important;
  }

  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .Header .header-logo-invertocat:hover,
  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .Header .header-logo-wordmark:hover {
    color: #4078c0 !important;
  }

  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .Header .notification-indicator .mail-status {
    color: #fff !important;
    background-image: linear-gradient(#1cafff, #0086ce) !important;
    border: 2px solid #f3f3f3 !important;
  }

  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .Header .notification-indicator:hover .mail-status {
    background-color: #4078c0 !important;
  }

  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .Header .header-search-scope {
    color: #767676 !important;
    border-right: 1px solid #eee !important;
    font-size: 12px !important;
    line-height: 26px !important;
    min-height: 0 !important;
  }

  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .Header .scoped-search .form-control.focus .header-search-scope {
    color: #4078c0 !important;
    background-color: #edf2f9 !important;
    border-color: #c6d7ec !important;
  }

  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .Header .Header-link  {
    color: #555 !important;
  }

  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .Header .Header-link:hover,
  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .Header .Header-link:focus  {
    color: #4078c0 !important;
  }

  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .Header .Header-link:hover .dropdown-caret,
  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .Header .Header-link:focus .dropdown-caret  {
    border-top-color: #4078c0 !important;
  }

  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .Header .header-search  {
    font-size: 14px !important;
  }

  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .Header .header-search-wrapper {
    background: #fff !important;
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.075) !important;
    border: 1px solid #ddd !important;
    font-size: 14px !important;
    min-height: 0 !important;
    color: inherit !important;
  }

  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .Header .header-search-wrapper.focus {
    background: #fff !important;
    border-color: #51a7e8 !important;
    outline: none !important;
    box-shadow: inset 0 1px 2px rgba(0,0,0,.075), 0 0 5px rgba(81,167,232,.5) !important;
  }

  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .Header .header-search-input {
    min-height: 27px !important;
  }
  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .Header .header-search-input::-webkit-input-placeholder {
    color: rgba(0,0,0,.5) !important;
  }
  html[data-color-mode="auto"][data-light-theme="light"] body.logged-in .Header .header-search-input::placeholder {
    color: rgba(0,0,0,.5) !important;
  }
}
